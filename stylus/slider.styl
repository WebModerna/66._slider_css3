// Mi propio slider hecho sólo con CSS

// Normalizando 
@import 'normalize'
@import 'funciones'

// La cantidad de imágenes a mostrar
$items = 6

// El tiempo en el cual una imagen se mostrará
$tiempo_mostrar = 3

// El tiempo total de todas las animaciones conjunto
$tiempo_total = $tiempo_mostrar * $items


// El contenedor
.slider
	&__cuerpo
		box-sizing border-box
		margin 0
		overflow hidden
		height 100vh
		width 100vw
	
	&__contenedor
		box-sizing border-box
		margin 0
		position relative
		display flex
	
	&__leyenda
		display flex
		justify-content center
		align-items center
		height 100vh

		&__contenido
			background rgba(5,5,5,0.5)
			border 1px solid pink
			color pink
			font-size 20px
			font-weight bold
			font-style italic
			line-height 40px
			// Posicionando la leyenda siempre en el centro
			padding 0.5em 1em
			position relative
			// top 50%
			// left 50%
			/*width w = 150px
			height h = 40px
			margin-left -(w / 2)
			margin-top -(h / 2)
			&:before
				content ''
				position absolute
				right 0
				top 0
				triangle(15px, 15px, bottomLeft, pink)
	*/		
	
	&__item
		animation-delay 0
		animation-duration $tiempo_total s
		animation-iteration-count infinite
		animation-timing-function ease-in-out
		background-color #fff
		background-position 50% 50%
		background-repeat no-repeat
		background-size(cover)
		box-sizing border-box
		display table
		height 100vh
		left 0
		opacity 0
		position absolute
		text-align center
		top 0
		width 100vw

/*
=========================================
Bucle: crea los nombres de las animaciones
Por fórmula coloca una imagen previamente numerada en la carpeta /img
Las imágenes deben llamarse "img[número de orden].jpg". Por ejemplo: img1.jpg, img2.jpg, y así sucesivamente.
========================================
*/
for $i in 1..$items
	#slider__item_{$i}
		background-image url('../img/img' + ($i) + '.jpg')
		
		// El nombre de la animación numerada
		animation-name fadeing_ + $i
	
	// En base al orden de cada una de las imágenes
	@keyframes { fadeing_ + $i }
		for a in 0..$tiempo_total
			// Para ir creando segmentos de tiempo en los cuales deben mostrarse.
			if a < $i * $tiempo_mostrar && a >= $i * $tiempo_mostrar - $tiempo_mostrar
				{ 100% * a / $tiempo_total }
					opacity 1
			
			// El primer slider en el último fotograma lo tenemos que mostrar, de lo contrario hay un parpadeo cuando el bucle comienza.
			else if a == $tiempo_total && $i == 1
				{ 100% * a / $tiempo_total }
					opacity 1
			
			// Se ocultan los slider en los fotogramas que están fuera del segmento asignado
			else
				{ 100% * a / $tiempo_total }
					opacity 0

